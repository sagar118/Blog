---
keywords: fastai
description: "Vairous preprocessing steps required to clean and prepare your data in NLP"
title: "Text Preprocessing"
toc: true
branch: master
badges: true
comments: true
categories: [Text Preprocessing, Natural Language Processing]
image: images/posts/text_preprocessing.jpg
hide: false
search_exclude: false
nb_path: _notebooks/2021-04-11-Text-Preprocessing.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2021-04-11-Text-Preprocessing.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In any machine learning task, cleaning and pre-processing of the data is a very important step. The better we can represent our data, the better the model training and prediction can be expected.</p>
<p>Specially in the domain of Natural Language Processing (NLP) the data is unstructured. It become crucial to clean and properly format it based on the task at hand. There are various pre-processing steps that can be performed but not necessary to perform all. These steps should be applied based on the problem statement.</p>
<p>Example: Sentiment analysis on twitter data can required to remove hashtags, emoticons, etc. but this may not be the case if we are doing the same analysis on customer feedback data.</p>
<p>Here we are using the twitter_sample dataset from the nltk library.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p><div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Import libraries and load the data</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">nltk</span>
<span class="kn">import</span> <span class="nn">spacy</span>
<span class="kn">import</span> <span class="nn">string</span>
<span class="kn">import</span> <span class="nn">demoji</span>
<span class="kn">import</span> <span class="nn">contractions</span>
<span class="kn">import</span> <span class="nn">unidecode</span>
<span class="kn">from</span> <span class="nn">num2words</span> <span class="kn">import</span> <span class="n">num2words</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">twitter_samples</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="kn">from</span> <span class="nn">nltk.stem.porter</span> <span class="kn">import</span> <span class="n">PorterStemmer</span>
<span class="kn">from</span> <span class="nn">nltk.stem.snowball</span> <span class="kn">import</span> <span class="n">SnowballStemmer</span>
<span class="kn">from</span> <span class="nn">nltk.stem</span> <span class="kn">import</span> <span class="n">WordNetLemmatizer</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">spellchecker</span> <span class="kn">import</span> <span class="n">SpellChecker</span>

<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_columns</span><span class="o">=</span><span class="kc">None</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span><span class="o">=</span><span class="kc">None</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_colwidth</span><span class="o">=</span><span class="kc">None</span>

<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;twitter_samples&#39;</span><span class="p">)</span> <span class="c1"># Download the dataset</span>

<span class="c1"># We are going to use the Negative and Positive Tweets file which each contains 5000 tweets.</span>
<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">twitter_samples</span><span class="o">.</span><span class="n">fileids</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; - </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>
</p>
    </details>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre> - negative_tweets.json
 - positive_tweets.json
 - tweets.20150430-223406.json
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>[nltk_data] Downloading package twitter_samples to
[nltk_data]     C:\Users\sagar\AppData\Roaming\nltk_data...
[nltk_data]   Package twitter_samples is already up-to-date!
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p><div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Load the negative tweets file and assign label as 0 for negative</span>
<span class="n">negative_tweets</span> <span class="o">=</span> <span class="n">twitter_samples</span><span class="o">.</span><span class="n">strings</span><span class="p">(</span><span class="s2">&quot;negative_tweets.json&quot;</span><span class="p">)</span>
<span class="n">df_neg</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">negative_tweets</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>
<span class="n">df_neg</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Load the positive tweets file and assign label as 1 for positive</span>
<span class="n">positive_tweets</span> <span class="o">=</span> <span class="n">twitter_samples</span><span class="o">.</span><span class="n">strings</span><span class="p">(</span><span class="s2">&quot;positive_tweets.json&quot;</span><span class="p">)</span>
<span class="n">df_pos</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">positive_tweets</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>
<span class="n">df_pos</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_pos</span><span class="p">,</span> <span class="n">df_neg</span><span class="p">])</span> <span class="c1"># Concatenate both the files</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># Shuffle the data to mix negative and positive tweets</span>
</pre></div>

    </div>
</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Shape of the whole data is: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> rows and </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1"> columns&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Shape of the whole data is: 10000 rows and 2 columns
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Username Changed! :D</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>@kimtaaeyeonss unnieeee!!!:)</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>@amyewest Thanks! I hope you've got a good book to keep you company. :-)</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>:) where are you situated? @Hijay09</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>@egaroo You're welcome, I'm glad you liked it :)</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include note.html content='Always make it a practice to first skim the dataset before performing any text pre-processing steps. It is important because text data can be very noisy eg. dates are written in different formats, present of accented characters, etc. These are stuff we can easily miss if we don&#8217;t go through the dataset properly.' %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Lower-Casing">Lower Casing<a class="anchor-link" href="#Lower-Casing"> </a></h2><p>Lowercasing is a common text preprocessing technique. It helps to transform all the text in same case. <br>
Examples 'The', 'the', 'ThE' -&gt; 'the'</p>
<p>This is also useful to find all the duplicates since words in different cases are treated as separate words and becomes difficult for us to remove redundant words in all different case combination.</p>
<p>This may not be helpful when we do tasks like Part of Speech tagging (where proper casing gives some information about Nouns and so on) and Sentiment Analysis (where upper casing refers to anger and so on)</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>username changed! :d</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>@kimtaaeyeonss unnieeee!!!:)</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Remove">Remove<a class="anchor-link" href="#Remove"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="URL's">URL's<a class="anchor-link" href="#URL's"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>URL stands for Uniform Resource Locator. If present in a text, it represents the location of another website.</p>
<p>If we are performing any websites backlink analysis, in that case URL's are useful to keep. Otherwise, they don't provide any information. So we can remove them from our text.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;https?://\S+|www\.\S+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>username changed! :d</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>@kimtaaeyeonss unnieeee!!!:)</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>@amyewest thanks! i hope you've got a good book to keep you company. :-)</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>:) where are you situated? @hijay09</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>@egaroo you're welcome, i'm glad you liked it :)</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="E-mail">E-mail<a class="anchor-link" href="#E-mail"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>E-mail id's are common in customer feedback data and they do not provide any useful information. So we remove them from the text.</p>
<p>Twitter data that we are using does not contain any email id's. Hence, please find the code snipper with an dummy example to remove e-mail id's.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;I have being trying to contact xyz via email to xyz@abc.co.in but there is no response.&#39;</span>
<span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\S+@\S+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;I have being trying to contact xyz via email to  but there is no response.&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Date">Date<a class="anchor-link" href="#Date"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Dates can be represented in various formats and can be difficult at times to remove them. They are unlikely to contain any useful information for predicting the labels.</p>
<p>Below I have used dummy text to showcase the following task.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Today is 22/12/2020 and after two days on 24-12-2020 our vacation starts until 25th.09.2021&quot;</span>

<span class="c1"># 1. Remove date formats like: dd/mm/yy(yy), dd-mm-yy(yy), dd(st|nd|rd).mm/yy(yy)</span>
<span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d{1,2}(st|nd|rd|th)?[-./]\d{1,2}[-./]\d{2,4}&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;Today is  and after two days on  our vacation starts until &#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Today is 11th of January, 2021 when I am writing this post. I hope to post this by February 15th or max to max by 20 may 21 or 20th-December-21&quot;</span>

<span class="c1"># 2. Remove date formats like: 20 apr 21, April 15th, 11th of April, 2021</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d{1,2})?(st|nd|rd|th)?[-./,]?\s?(of)?\s?([J|j]an(uary)?|[F|f]eb(ruary)?|[Mm]ar(ch)?|[Aa]pr(il)?|[Mm]ay|[Jj]un(e)?|[Jj]ul(y)?|[Aa]ug(ust)?|[Ss]ep(tember)?|[Oo]ct(ober)?|[Nn]ov(ember)?|[Dd]ec(ember)?)\s?(\d{1,2})?(st|nd|rd|th)?\s?[-./,]?\s?(\d{2,4})?&#39;</span><span class="p">)</span>
<span class="n">pattern</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;Today is  when I am writing this post. I hope to post this byor max to max by or &#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are various formats in which dates are represented and the above regex can be customized in many ways. Above, "byor" got combined cause we are trying multiple format in single regex pattern. You can customize the above expression accordingly to your need.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="HTML-Tags">HTML Tags<a class="anchor-link" href="#HTML-Tags"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If we are extracting data from various websites, it is possible that the data also contains HTML tags. These tags does not provide any information and should be removed. These tags can be removed using regex or by using BeautifulSoup library.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">&lt;title&gt;Below is a dummy html code.&lt;/title&gt;</span>
<span class="s2">&lt;body&gt;</span>
<span class="s2">    &lt;p&gt;All the html opening and closing brackets should be remove.&lt;/p&gt;</span>
<span class="s2">    &lt;a href=&quot;https://www.abc.com&quot;&gt;Company Site&lt;/a&gt;</span>
<span class="s2">&lt;/body&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;&lt;.*?&gt;&#39;</span><span class="p">)</span>
<span class="n">pattern</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;\nBelow is a dummy html code.\n\n    All the html opening and closing brackets should be remove.\n    Company Site\n\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_html</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">clean_text</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">clean_text</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">remove_html</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;\nBelow is a dummy html code.\n\nAll the html opening and closing brackets should be remove.\nCompany Site\n\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Emojis">Emojis<a class="anchor-link" href="#Emojis"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As more and more people have started using social media emoji's play a very crucial role. Emoji's are used to express emotions that are universally understood.</p>
<p>In some analysis such as sentiment analysis emoji's can be useful. We can convert them to words or create some new features based on them. For some analysis we need to remove them. Find the below code snippet used to remove the emoji's.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p><div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Reference: https://gist.github.com/slowkow/7a7f61f495e3dbb7e3d767f97bd7304b</span>

<span class="k">def</span> <span class="nf">remove_emoji</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">emoji_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;[&quot;</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\U0001F600</span><span class="s2">-</span><span class="se">\U0001F64F</span><span class="s2">&quot;</span>  <span class="c1"># emoticons</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\U0001F300</span><span class="s2">-</span><span class="se">\U0001F5FF</span><span class="s2">&quot;</span>  <span class="c1"># symbols &amp; pictographs</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\U0001F680</span><span class="s2">-</span><span class="se">\U0001F6FF</span><span class="s2">&quot;</span>  <span class="c1"># transport &amp; map symbols</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\U0001F1E0</span><span class="s2">-</span><span class="se">\U0001F1FF</span><span class="s2">&quot;</span>  <span class="c1"># flags (iOS)</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\U00002500</span><span class="s2">-</span><span class="se">\U00002BEF</span><span class="s2">&quot;</span>  <span class="c1"># chinese char</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\U00002702</span><span class="s2">-</span><span class="se">\U000027B0</span><span class="s2">&quot;</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\U00002702</span><span class="s2">-</span><span class="se">\U000027B0</span><span class="s2">&quot;</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\U000024C2</span><span class="s2">-</span><span class="se">\U0001F251</span><span class="s2">&quot;</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\U0001f926</span><span class="s2">-</span><span class="se">\U0001f937</span><span class="s2">&quot;</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\U00010000</span><span class="s2">-</span><span class="se">\U0010ffff</span><span class="s2">&quot;</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\u2640</span><span class="s2">-</span><span class="se">\u2642</span><span class="s2">&quot;</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\u2600</span><span class="s2">-</span><span class="se">\u2B55</span><span class="s2">&quot;</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\u200d</span><span class="s2">&quot;</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\u23cf</span><span class="s2">&quot;</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\u23e9</span><span class="s2">&quot;</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\u231a</span><span class="s2">&quot;</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\ufe0f</span><span class="s2">&quot;</span>  <span class="c1"># dingbats</span>
                               <span class="sa">u</span><span class="s2">&quot;</span><span class="se">\u3030</span><span class="s2">&quot;</span>
                               <span class="s2">&quot;]+&quot;</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">UNICODE</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">emoji_pattern</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;game is on 🔥🔥. Hilarious😂&quot;</span>
<span class="n">remove_emoji</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;game is on . Hilarious&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">remove_emoji</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Emoticons">Emoticons<a class="anchor-link" href="#Emoticons"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Emoji's and Emoticons are different. Yes!!<br>
Emoticons are used to express facial expressions using keyboard characters such as letters, numbers, and pucntuation marks. Where emjoi's are small images.</p>
<p>Thanks to <a href="https://github.com/NeelShah18/emot/blob/master/emot/emo_unicode.py">Neel Shah</a> for curating a dictionary of emoticons and their description. We shall use this dictionary and remove the emoticons from our text.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p><div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">EMOTICONS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sa">u</span><span class="s2">&quot;:‑\)&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face or smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:\)&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face or smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:-\]&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face or smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:\]&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face or smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:-3&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:3&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:-&gt;&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:&gt;&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;8-\)&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:o\)&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:-\}&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:\}&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:-\)&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:c\)&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:\^\)&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;=\]&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;=\)&quot;</span><span class="p">:</span><span class="s2">&quot;Happy face smiley&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑D&quot;</span><span class="p">:</span><span class="s2">&quot;Laughing, big grin or laugh with glasses&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:D&quot;</span><span class="p">:</span><span class="s2">&quot;Laughing, big grin or laugh with glasses&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;8‑D&quot;</span><span class="p">:</span><span class="s2">&quot;Laughing, big grin or laugh with glasses&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;8D&quot;</span><span class="p">:</span><span class="s2">&quot;Laughing, big grin or laugh with glasses&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;X‑D&quot;</span><span class="p">:</span><span class="s2">&quot;Laughing, big grin or laugh with glasses&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;XD&quot;</span><span class="p">:</span><span class="s2">&quot;Laughing, big grin or laugh with glasses&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;=D&quot;</span><span class="p">:</span><span class="s2">&quot;Laughing, big grin or laugh with glasses&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;=3&quot;</span><span class="p">:</span><span class="s2">&quot;Laughing, big grin or laugh with glasses&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;B\^D&quot;</span><span class="p">:</span><span class="s2">&quot;Laughing, big grin or laugh with glasses&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:-\)\)&quot;</span><span class="p">:</span><span class="s2">&quot;Very happy&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑\(&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:-\(&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:\(&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑c&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:c&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑&lt;&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:&lt;&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑\[&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:\[&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:-\|\|&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&gt;:\[&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:\{&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:@&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&gt;:\(&quot;</span><span class="p">:</span><span class="s2">&quot;Frown, sad, andry or pouting&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:&#39;‑\(&quot;</span><span class="p">:</span><span class="s2">&quot;Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:&#39;\(&quot;</span><span class="p">:</span><span class="s2">&quot;Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:&#39;‑\)&quot;</span><span class="p">:</span><span class="s2">&quot;Tears of happiness&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:&#39;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Tears of happiness&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;D‑&#39;:&quot;</span><span class="p">:</span><span class="s2">&quot;Horror&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;D:&lt;&quot;</span><span class="p">:</span><span class="s2">&quot;Disgust&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;D:&quot;</span><span class="p">:</span><span class="s2">&quot;Sadness&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;D8&quot;</span><span class="p">:</span><span class="s2">&quot;Great dismay&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;D;&quot;</span><span class="p">:</span><span class="s2">&quot;Great dismay&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;D=&quot;</span><span class="p">:</span><span class="s2">&quot;Great dismay&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;DX&quot;</span><span class="p">:</span><span class="s2">&quot;Great dismay&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑O&quot;</span><span class="p">:</span><span class="s2">&quot;Surprise&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:O&quot;</span><span class="p">:</span><span class="s2">&quot;Surprise&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑o&quot;</span><span class="p">:</span><span class="s2">&quot;Surprise&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:o&quot;</span><span class="p">:</span><span class="s2">&quot;Surprise&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:-0&quot;</span><span class="p">:</span><span class="s2">&quot;Shock&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;8‑0&quot;</span><span class="p">:</span><span class="s2">&quot;Yawn&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&gt;:O&quot;</span><span class="p">:</span><span class="s2">&quot;Yawn&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:-\*&quot;</span><span class="p">:</span><span class="s2">&quot;Kiss&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:\*&quot;</span><span class="p">:</span><span class="s2">&quot;Kiss&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:X&quot;</span><span class="p">:</span><span class="s2">&quot;Kiss&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;;‑\)&quot;</span><span class="p">:</span><span class="s2">&quot;Wink or smirk&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Wink or smirk&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\*-\)&quot;</span><span class="p">:</span><span class="s2">&quot;Wink or smirk&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\*\)&quot;</span><span class="p">:</span><span class="s2">&quot;Wink or smirk&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;;‑\]&quot;</span><span class="p">:</span><span class="s2">&quot;Wink or smirk&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;;\]&quot;</span><span class="p">:</span><span class="s2">&quot;Wink or smirk&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;;\^\)&quot;</span><span class="p">:</span><span class="s2">&quot;Wink or smirk&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑,&quot;</span><span class="p">:</span><span class="s2">&quot;Wink or smirk&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;;D&quot;</span><span class="p">:</span><span class="s2">&quot;Wink or smirk&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑P&quot;</span><span class="p">:</span><span class="s2">&quot;Tongue sticking out, cheeky, playful or blowing a raspberry&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:P&quot;</span><span class="p">:</span><span class="s2">&quot;Tongue sticking out, cheeky, playful or blowing a raspberry&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;X‑P&quot;</span><span class="p">:</span><span class="s2">&quot;Tongue sticking out, cheeky, playful or blowing a raspberry&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;XP&quot;</span><span class="p">:</span><span class="s2">&quot;Tongue sticking out, cheeky, playful or blowing a raspberry&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑Þ&quot;</span><span class="p">:</span><span class="s2">&quot;Tongue sticking out, cheeky, playful or blowing a raspberry&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:Þ&quot;</span><span class="p">:</span><span class="s2">&quot;Tongue sticking out, cheeky, playful or blowing a raspberry&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:b&quot;</span><span class="p">:</span><span class="s2">&quot;Tongue sticking out, cheeky, playful or blowing a raspberry&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;d:&quot;</span><span class="p">:</span><span class="s2">&quot;Tongue sticking out, cheeky, playful or blowing a raspberry&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;=p&quot;</span><span class="p">:</span><span class="s2">&quot;Tongue sticking out, cheeky, playful or blowing a raspberry&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&gt;:P&quot;</span><span class="p">:</span><span class="s2">&quot;Tongue sticking out, cheeky, playful or blowing a raspberry&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑/&quot;</span><span class="p">:</span><span class="s2">&quot;Skeptical, annoyed, undecided, uneasy or hesitant&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:/&quot;</span><span class="p">:</span><span class="s2">&quot;Skeptical, annoyed, undecided, uneasy or hesitant&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:-[.]&quot;</span><span class="p">:</span><span class="s2">&quot;Skeptical, annoyed, undecided, uneasy or hesitant&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&gt;:[(</span><span class="se">\\</span><span class="s2">\)]&quot;</span><span class="p">:</span><span class="s2">&quot;Skeptical, annoyed, undecided, uneasy or hesitant&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&gt;:/&quot;</span><span class="p">:</span><span class="s2">&quot;Skeptical, annoyed, undecided, uneasy or hesitant&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:[(</span><span class="se">\\</span><span class="s2">\)]&quot;</span><span class="p">:</span><span class="s2">&quot;Skeptical, annoyed, undecided, uneasy or hesitant&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;=/&quot;</span><span class="p">:</span><span class="s2">&quot;Skeptical, annoyed, undecided, uneasy or hesitant&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;=[(</span><span class="se">\\</span><span class="s2">\)]&quot;</span><span class="p">:</span><span class="s2">&quot;Skeptical, annoyed, undecided, uneasy or hesitant&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:L&quot;</span><span class="p">:</span><span class="s2">&quot;Skeptical, annoyed, undecided, uneasy or hesitant&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;=L&quot;</span><span class="p">:</span><span class="s2">&quot;Skeptical, annoyed, undecided, uneasy or hesitant&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:S&quot;</span><span class="p">:</span><span class="s2">&quot;Skeptical, annoyed, undecided, uneasy or hesitant&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑\|&quot;</span><span class="p">:</span><span class="s2">&quot;Straight face&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:\|&quot;</span><span class="p">:</span><span class="s2">&quot;Straight face&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:$&quot;</span><span class="p">:</span><span class="s2">&quot;Embarrassed or blushing&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑x&quot;</span><span class="p">:</span><span class="s2">&quot;Sealed lips or wearing braces or tongue-tied&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:x&quot;</span><span class="p">:</span><span class="s2">&quot;Sealed lips or wearing braces or tongue-tied&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑#&quot;</span><span class="p">:</span><span class="s2">&quot;Sealed lips or wearing braces or tongue-tied&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:#&quot;</span><span class="p">:</span><span class="s2">&quot;Sealed lips or wearing braces or tongue-tied&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑&amp;&quot;</span><span class="p">:</span><span class="s2">&quot;Sealed lips or wearing braces or tongue-tied&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:&amp;&quot;</span><span class="p">:</span><span class="s2">&quot;Sealed lips or wearing braces or tongue-tied&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;O:‑\)&quot;</span><span class="p">:</span><span class="s2">&quot;Angel, saint or innocent&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;O:\)&quot;</span><span class="p">:</span><span class="s2">&quot;Angel, saint or innocent&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;0:‑3&quot;</span><span class="p">:</span><span class="s2">&quot;Angel, saint or innocent&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;0:3&quot;</span><span class="p">:</span><span class="s2">&quot;Angel, saint or innocent&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;0:‑\)&quot;</span><span class="p">:</span><span class="s2">&quot;Angel, saint or innocent&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;0:\)&quot;</span><span class="p">:</span><span class="s2">&quot;Angel, saint or innocent&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑b&quot;</span><span class="p">:</span><span class="s2">&quot;Tongue sticking out, cheeky, playful or blowing a raspberry&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;0;\^\)&quot;</span><span class="p">:</span><span class="s2">&quot;Angel, saint or innocent&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&gt;:‑\)&quot;</span><span class="p">:</span><span class="s2">&quot;Evil or devilish&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&gt;:\)&quot;</span><span class="p">:</span><span class="s2">&quot;Evil or devilish&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\}:‑\)&quot;</span><span class="p">:</span><span class="s2">&quot;Evil or devilish&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\}:\)&quot;</span><span class="p">:</span><span class="s2">&quot;Evil or devilish&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;3:‑\)&quot;</span><span class="p">:</span><span class="s2">&quot;Evil or devilish&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;3:\)&quot;</span><span class="p">:</span><span class="s2">&quot;Evil or devilish&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&gt;;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Evil or devilish&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\|;‑\)&quot;</span><span class="p">:</span><span class="s2">&quot;Cool&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\|‑O&quot;</span><span class="p">:</span><span class="s2">&quot;Bored&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:‑J&quot;</span><span class="p">:</span><span class="s2">&quot;Tongue-in-cheek&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;#‑\)&quot;</span><span class="p">:</span><span class="s2">&quot;Party all night&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;%‑\)&quot;</span><span class="p">:</span><span class="s2">&quot;Drunk or confused&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;%\)&quot;</span><span class="p">:</span><span class="s2">&quot;Drunk or confused&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:-###..&quot;</span><span class="p">:</span><span class="s2">&quot;Being sick&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:###..&quot;</span><span class="p">:</span><span class="s2">&quot;Being sick&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&lt;:‑\|&quot;</span><span class="p">:</span><span class="s2">&quot;Dump&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(&gt;_&lt;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Troubled&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(&gt;_&lt;\)&gt;&quot;</span><span class="p">:</span><span class="s2">&quot;Troubled&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(&#39;;&#39;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Baby&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^\^&gt;``&quot;</span><span class="p">:</span><span class="s2">&quot;Nervous or Embarrassed or Troubled or Shy or Sweat drop&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^_\^;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Nervous or Embarrassed or Troubled or Shy or Sweat drop&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(-_-;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Nervous or Embarrassed or Troubled or Shy or Sweat drop&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(~_~;\) \(・\.・;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Nervous or Embarrassed or Troubled or Shy or Sweat drop&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(-_-\)zzz&quot;</span><span class="p">:</span><span class="s2">&quot;Sleeping&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^_-\)&quot;</span><span class="p">:</span><span class="s2">&quot;Wink&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\(\+_\+\)\)&quot;</span><span class="p">:</span><span class="s2">&quot;Confused&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\+o\+\)&quot;</span><span class="p">:</span><span class="s2">&quot;Confused&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(o\|o\)&quot;</span><span class="p">:</span><span class="s2">&quot;Ultraman&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\^_\^&quot;</span><span class="p">:</span><span class="s2">&quot;Joyful&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^_\^\)/&quot;</span><span class="p">:</span><span class="s2">&quot;Joyful&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^O\^\)／&quot;</span><span class="p">:</span><span class="s2">&quot;Joyful&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^o\^\)／&quot;</span><span class="p">:</span><span class="s2">&quot;Joyful&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(__\)&quot;</span><span class="p">:</span><span class="s2">&quot;Kowtow as a sign of respect, or dogeza for apology&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;_\(\._\.\)_&quot;</span><span class="p">:</span><span class="s2">&quot;Kowtow as a sign of respect, or dogeza for apology&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&lt;\(_ _\)&gt;&quot;</span><span class="p">:</span><span class="s2">&quot;Kowtow as a sign of respect, or dogeza for apology&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&lt;m\(__\)m&gt;&quot;</span><span class="p">:</span><span class="s2">&quot;Kowtow as a sign of respect, or dogeza for apology&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;m\(__\)m&quot;</span><span class="p">:</span><span class="s2">&quot;Kowtow as a sign of respect, or dogeza for apology&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;m\(_ _\)m&quot;</span><span class="p">:</span><span class="s2">&quot;Kowtow as a sign of respect, or dogeza for apology&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(&#39;_&#39;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(/_;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(T_T\) \(;_;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(;_;&quot;</span><span class="p">:</span><span class="s2">&quot;Sad of Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(;_:\)&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(;O;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(:_;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(ToT\)&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;;_;&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;;-;&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;;n;&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;;;&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;Q\.Q&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;T\.T&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;QQ&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;Q_Q&quot;</span><span class="p">:</span><span class="s2">&quot;Sad or Crying&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(-\.-\)&quot;</span><span class="p">:</span><span class="s2">&quot;Shame&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(-_-\)&quot;</span><span class="p">:</span><span class="s2">&quot;Shame&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(一一\)&quot;</span><span class="p">:</span><span class="s2">&quot;Shame&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(；一_一\)&quot;</span><span class="p">:</span><span class="s2">&quot;Shame&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(=_=\)&quot;</span><span class="p">:</span><span class="s2">&quot;Tired&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(=\^\·\^=\)&quot;</span><span class="p">:</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(=\^\·\·\^=\)&quot;</span><span class="p">:</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;=_\^=	&quot;</span><span class="p">:</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\.\.\)&quot;</span><span class="p">:</span><span class="s2">&quot;Looking down&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\._\.\)&quot;</span><span class="p">:</span><span class="s2">&quot;Looking down&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\^m\^&quot;</span><span class="p">:</span><span class="s2">&quot;Giggling with hand covering mouth&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\・\・?&quot;</span><span class="p">:</span><span class="s2">&quot;Confusion&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(?_?\)&quot;</span><span class="p">:</span><span class="s2">&quot;Confusion&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&gt;\^_\^&lt;&quot;</span><span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;&lt;\^!\^&gt;&quot;</span><span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\^/\^&quot;</span><span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\（\*\^_\^\*）&quot;</span> <span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^&lt;\^\) \(\^\.\^\)&quot;</span><span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(^\^\)&quot;</span><span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^\.\^\)&quot;</span><span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^_\^\.\)&quot;</span><span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^_\^\)&quot;</span><span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^\^\)&quot;</span><span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^J\^\)&quot;</span><span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\*\^\.\^\*\)&quot;</span><span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^—\^\）&quot;</span><span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(#\^\.\^#\)&quot;</span><span class="p">:</span><span class="s2">&quot;Normal Laugh&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\（\^—\^\）&quot;</span><span class="p">:</span><span class="s2">&quot;Waving&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(;_;\)/~~~&quot;</span><span class="p">:</span><span class="s2">&quot;Waving&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^\.\^\)/~~~&quot;</span><span class="p">:</span><span class="s2">&quot;Waving&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(-_-\)/~~~ \($\·\·\)/~~~&quot;</span><span class="p">:</span><span class="s2">&quot;Waving&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(T_T\)/~~~&quot;</span><span class="p">:</span><span class="s2">&quot;Waving&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(ToT\)/~~~&quot;</span><span class="p">:</span><span class="s2">&quot;Waving&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\*\^0\^\*\)&quot;</span><span class="p">:</span><span class="s2">&quot;Excited&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\*_\*\)&quot;</span><span class="p">:</span><span class="s2">&quot;Amazed&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\*_\*;&quot;</span><span class="p">:</span><span class="s2">&quot;Amazed&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\+_\+\) \(@_@\)&quot;</span><span class="p">:</span><span class="s2">&quot;Amazed&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\*\^\^\)v&quot;</span><span class="p">:</span><span class="s2">&quot;Laughing,Cheerful&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^_\^\)v&quot;</span><span class="p">:</span><span class="s2">&quot;Laughing,Cheerful&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\(d[-_-]b\)\)&quot;</span><span class="p">:</span><span class="s2">&quot;Headphones,Listening to music&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s1">&#39;\(-&quot;-\)&#39;</span><span class="p">:</span><span class="s2">&quot;Worried&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(ーー;\)&quot;</span><span class="p">:</span><span class="s2">&quot;Worried&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^0_0\^\)&quot;</span><span class="p">:</span><span class="s2">&quot;Eyeglasses&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\＾ｖ\＾\)&quot;</span><span class="p">:</span><span class="s2">&quot;Happy&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\＾ｕ\＾\)&quot;</span><span class="p">:</span><span class="s2">&quot;Happy&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^\)o\(\^\)&quot;</span><span class="p">:</span><span class="s2">&quot;Happy&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^O\^\)&quot;</span><span class="p">:</span><span class="s2">&quot;Happy&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\^o\^\)&quot;</span><span class="p">:</span><span class="s2">&quot;Happy&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\)\^o\^\(&quot;</span><span class="p">:</span><span class="s2">&quot;Happy&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;:O o_O&quot;</span><span class="p">:</span><span class="s2">&quot;Surprised&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;o_0&quot;</span><span class="p">:</span><span class="s2">&quot;Surprised&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;o\.O&quot;</span><span class="p">:</span><span class="s2">&quot;Surpised&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(o\.o\)&quot;</span><span class="p">:</span><span class="s2">&quot;Surprised&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;oO&quot;</span><span class="p">:</span><span class="s2">&quot;Surprised&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(\*￣m￣\)&quot;</span><span class="p">:</span><span class="s2">&quot;Dissatisfied&quot;</span><span class="p">,</span>
    <span class="sa">u</span><span class="s2">&quot;\(‘A`\)&quot;</span><span class="p">:</span><span class="s2">&quot;Snubbed or Deflated&quot;</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_emoticons</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">emoticons_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="sa">u</span><span class="s1">&#39;|&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">emo</span> <span class="k">for</span> <span class="n">emo</span> <span class="ow">in</span> <span class="n">EMOTICONS</span><span class="p">)</span> <span class="o">+</span> <span class="sa">u</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">emoticons_pattern</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">remove_emoticons</span><span class="p">(</span><span class="s2">&quot;Hello :-&gt;&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;Hello &#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">remove_emoticons</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Hashtags-and-Mentions">Hashtags and Mentions<a class="anchor-link" href="#Hashtags-and-Mentions"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We are habituated to use hashtags and mentions in our tweet either to indicate the context or bring attention to an individual. Hashtags can be used to extract features, to see what's trending and in various other applications.</p>
<p>Since, we don't require them we'll remove them.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_tags_mentions</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(@\S+|#\S+)&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pattern</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;live @flippinginja on #younow - jonah and jareddddd&quot;</span>
<span class="n">remove_tags_mentions</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;live  on  - jonah and jareddddd&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">remove_tags_mentions</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Punctuations">Punctuations<a class="anchor-link" href="#Punctuations"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Punctuations are character other than alphaters and digits. These include [!"#$%&amp;\'()*+,-./:;&lt;=&gt;?@\^_`{|}~]</p>
<p>It is better remove or convert emoticons before removing the punctuations, since if we do the other we around we might loose the emoticons from the text. Another example, if the text contains $10.50 then we'll remove the .(dot) and the value will loose it's meaning.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">PUNCTUATIONS</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">punctuation</span>

<span class="k">def</span> <span class="nf">remove_punctuation</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">text</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">maketrans</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">PUNCTUATIONS</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">text</span><span class="p">:</span> <span class="n">remove_punctuation</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>username changed d</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>unnieeee</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>thanks i hope youve got a good book to keep you company</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>where are you situated</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>youre welcome im glad you liked it</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Stopwords">Stopwords<a class="anchor-link" href="#Stopwords"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Stopwords are commonly occuring words in any language. Such as, in english these words are 'the', 'a', 'an', &amp; many more. They are in most cases not useful and should be removed.</p>
<p>There are certain tasks in which these words are useful such as Part-of-Speech(POS) tagging, language translation. Stopwords are compiled for many languages, for english language we can use the list from the nltk package.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">STOPWORDS</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">remove_stopwords</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">STOPWORDS</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">text</span><span class="p">:</span> <span class="n">remove_stopwords</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>username changed</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>unnieeee</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>thanks hope youve got good book keep company</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>situated</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>youre welcome im glad liked</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Numbers">Numbers<a class="anchor-link" href="#Numbers"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We may remove numbers if they are not useful in our analysis. But analysis in the financial domain, numbers are very useful.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Extra-whitespaces">Extra whitespaces<a class="anchor-link" href="#Extra-whitespaces"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>After usually after preprocessing the text there might be extra whitespaces that might be created after transforming, removing various characters. Also, there is a need to remove all the new line, tab characters as well from our text.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">remove_whitespaces</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;  Whitespaces in the beginning are removed  </span><span class="se">\t</span><span class="s2"> as well </span><span class="se">\n</span><span class="s2">  as in between  the text   &quot;</span>

<span class="n">clean_text</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<span class="n">clean_text</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;Whitespaces in the beginning are removed as well as in between the text&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">remove_whitespaces</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Frequent-words">Frequent words<a class="anchor-link" href="#Frequent-words"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Previously we have removed stopwords which are common in any language. If we are working in any domain, we can also remove the common words used in that domain which don't provide us with much information.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">freq_words</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="n">FrequentWords</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">:</span>
        <span class="n">counter</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="k">for</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">word_count</span><span class="p">)</span> <span class="ow">in</span> <span class="n">counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">FrequentWords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">FrequentWords</span>

<span class="k">def</span> <span class="nf">remove_fw</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">FrequentWords</span><span class="p">):</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="n">without_fw</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">FrequentWords</span><span class="p">:</span>
            <span class="n">without_fw</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

    <span class="n">without_fw</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">without_fw</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">without_fw</span>

<span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Natural Language Processing is the technology used to aid computers to understand the human’s natural language. It’s not an easy task teaching machines to understand how we communicate. Leand Romaf, an experienced software engineer who is passionate at teaching people how artificial intelligence systems work, says that “in recent years, there have been significant breakthroughs in empowering computers to understand language just as we do.” This article will give a simple introduction to Natural Language Processing and how it can be achieved. Natural Language Processing, usually shortened as NLP, is a branch of artificial intelligence that deals with the interaction between computers and humans using the natural language. The ultimate objective of NLP is to read, decipher, understand, and make sense of the human languages in a manner that is valuable. Most NLP techniques rely on machine learning to derive meaning from human languages.</span>
<span class="s2">&quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">FrequentWords</span> <span class="o">=</span> <span class="n">freq_words</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">FrequentWords</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;,&#39;, &#39;to&#39;, &#39;.&#39;, &#39;is&#39;, &#39;the&#39;, &#39;understand&#39;, &#39;Natural&#39;, &#39;Language&#39;, &#39;Processing&#39;, &#39;computers&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fw_result</span> <span class="o">=</span> <span class="n">remove_fw</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">FrequentWords</span><span class="p">)</span>
<span class="n">fw_result</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;technology used aid human ’ s natural language It ’ s not an easy task teaching machines how we communicate Leand Romaf an experienced software engineer who passionate at teaching people how artificial intelligence systems work says that “ in recent years there have been significant breakthroughs in empowering language just as we do. ” This article will give a simple introduction and how it can be achieved usually shortened as NLP a branch of artificial intelligence that deals with interaction between and humans using natural language The ultimate objective of NLP read decipher and make sense of human languages in a manner that valuable Most NLP techniques rely on machine learning derive meaning from human languages&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Rare-words">Rare words<a class="anchor-link" href="#Rare-words"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Rare words are similar to frequent words. We can remove them because they are so less that they cannot add any value to the purpose.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">rare_words</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="c1"># tokenization</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">:</span>
        <span class="n">counter</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="o">=</span> <span class="o">+</span><span class="mi">1</span>

    <span class="n">RareWords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">number_rare_words</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="c1"># take top 10 frequent words</span>
    <span class="n">frequentWords</span> <span class="o">=</span> <span class="n">counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">()</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">word_count</span><span class="p">)</span> <span class="ow">in</span> <span class="n">frequentWords</span><span class="p">[:</span><span class="o">-</span><span class="n">number_rare_words</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">RareWords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">RareWords</span>

<span class="k">def</span> <span class="nf">remove_rw</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">RareWords</span><span class="p">):</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="n">without_rw</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">RareWords</span><span class="p">:</span>
            <span class="n">without_rw</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

    <span class="n">without_rw</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">without_fw</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">without_rw</span>

<span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Natural Language Processing is the technology used to aid computers to understand the human’s natural language. It’s not an easy task teaching machines to understand how we communicate. Leand Romaf, an experienced software engineer who is passionate at teaching people how artificial intelligence systems work, says that “in recent years, there have been significant breakthroughs in empowering computers to understand language just as we do.” This article will give a simple introduction to Natural Language Processing and how it can be achieved. Natural Language Processing, usually shortened as NLP, is a branch of artificial intelligence that deals with the interaction between computers and humans using the natural language. The ultimate objective of NLP is to read, decipher, understand, and make sense of the human languages in a manner that is valuable. Most NLP techniques rely on machine learning to derive meaning from human languages.</span>
<span class="s2">&quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">RareWords</span> <span class="o">=</span> <span class="n">rare_words</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="n">RareWords</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;from&#39;,
 &#39;meaning&#39;,
 &#39;derive&#39;,
 &#39;learning&#39;,
 &#39;machine&#39;,
 &#39;on&#39;,
 &#39;rely&#39;,
 &#39;techniques&#39;,
 &#39;Most&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rw_result</span> <span class="o">=</span> <span class="n">remove_fw</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">RareWords</span><span class="p">)</span>
<span class="n">rw_result</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;Natural Language Processing is the technology used to aid computers to understand the human ’ s natural language . It ’ s not an easy task teaching machines to understand how we communicate . Leand Romaf , an experienced software engineer who is passionate at teaching people how artificial intelligence systems work , says that “ in recent years , there have been significant breakthroughs in empowering computers to understand language just as we do. ” This article will give a simple introduction to Natural Language Processing and how it can be achieved . Natural Language Processing , usually shortened as NLP , is a branch of artificial intelligence that deals with the interaction between computers and humans using the natural language . The ultimate objective of NLP is to read , decipher , understand , and make sense of the human languages in a manner that is valuable . NLP to human languages .&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Conversion-of-Emoji-to-Words">Conversion of Emoji to Words<a class="anchor-link" href="#Conversion-of-Emoji-to-Words"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To remove or not is done based on the purpose of the application. Example if we are building a sentiment analysis system emoji's can be useful.</p>
<p>"The movie was 🔥"
or
"The movie was 💩"</p>
<p>If we remove the emoji's the meaning of the sentence changes completely. In these cases we can convert emoji's to words.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>demoji requires an initial data download from the Unicode Consortium's <a href="http://unicode.org/Public/emoji/12.0/emoji-test.txt">emoji code repository</a>.</p>
<p>On first use of the package, call download_codes().<br>
This will store the Unicode hex-notated symbols at ~/.demoji/codes.json for future use.</p>
<p>Read more about demoji on <a href="https://pypi.org/project/demoji/">pypi.org</a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">demoji</span><span class="o">.</span><span class="n">download_codes</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Downloading emoji data ...
... OK (Got response in 1.35 seconds)
Writing emoji data to C:\Users\sagar\.demoji\codes.json ...
... OK
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">emoji_to_words</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">demoji</span><span class="o">.</span><span class="n">replace_with_desc</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;__&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;game is on 🔥 🚣🏼&quot;</span>
<span class="n">emoji_to_words</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;game is on __fire__ __person rowing boat: medium-light skin tone__&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Conversion-of-Emoticons-to-Words">Conversion of Emoticons to Words<a class="anchor-link" href="#Conversion-of-Emoticons-to-Words"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As we did for emoji's, we convert emoticons to words for the same purpose.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">emoticons_to_words</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">emot</span> <span class="ow">in</span> <span class="n">EMOTICONS</span><span class="p">:</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="n">emot</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">EMOTICONS</span><span class="p">[</span><span class="n">emot</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()),</span> <span class="n">text</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">text</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Hey there!! :-)&quot;</span>
<span class="n">emoticons_to_words</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;Hey there!! Happy_face_smiley&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Converting-Numbers-to-Words">Converting Numbers to Words<a class="anchor-link" href="#Converting-Numbers-to-Words"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If our analysis require us to use information based on the numbers in the text, we can convert them to words.</p>
<p>Read more about num2words on <a href="https://github.com/savoirfairelinux/num2words">github</a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">nums_to_words</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">new_text</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
            <span class="n">new_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">num2words</span><span class="p">(</span><span class="n">word</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">new_text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;I ran this track 30 times&quot;</span>
<span class="n">nums_to_words</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;I ran this track thirty times&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Chat-words-Conversion">Chat words Conversion<a class="anchor-link" href="#Chat-words-Conversion"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The more we use social media, we have become lazy to type the whole phrase or word. Due to which slang words came into existance such as "omg" which represents "Oh my god". Such slang words don't provide much information and if we need to use them we have to convert them.</p>
<p>Thank you: <a href="https://github.com/rishabhverma17/sms_slang_translator/blob/master/slang.txt">GitHub repo</a> for the list of slang words</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p><div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">chat_words</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">AFAIK=As Far As I Know</span>
<span class="s2">AFK=Away From Keyboard</span>
<span class="s2">ASAP=As Soon As Possible</span>
<span class="s2">ATK=At The Keyboard</span>
<span class="s2">ATM=At The Moment</span>
<span class="s2">A3=Anytime, Anywhere, Anyplace</span>
<span class="s2">BAK=Back At Keyboard</span>
<span class="s2">BBL=Be Back Later</span>
<span class="s2">BBS=Be Back Soon</span>
<span class="s2">BFN=Bye For Now</span>
<span class="s2">B4N=Bye For Now</span>
<span class="s2">BRB=Be Right Back</span>
<span class="s2">BRT=Be Right There</span>
<span class="s2">BTW=By The Way</span>
<span class="s2">B4=Before</span>
<span class="s2">B4N=Bye For Now</span>
<span class="s2">CU=See You</span>
<span class="s2">CUL8R=See You Later</span>
<span class="s2">CYA=See You</span>
<span class="s2">FAQ=Frequently Asked Questions</span>
<span class="s2">FC=Fingers Crossed</span>
<span class="s2">FWIW=For What It&#39;s Worth</span>
<span class="s2">FYI=For Your Information</span>
<span class="s2">GAL=Get A Life</span>
<span class="s2">GG=Good Game</span>
<span class="s2">GN=Good Night</span>
<span class="s2">GMTA=Great Minds Think Alike</span>
<span class="s2">GR8=Great!</span>
<span class="s2">G9=Genius</span>
<span class="s2">IC=I See</span>
<span class="s2">ICQ=I Seek you (also a chat program)</span>
<span class="s2">ILU=ILU: I Love You</span>
<span class="s2">IMHO=In My Honest/Humble Opinion</span>
<span class="s2">IMO=In My Opinion</span>
<span class="s2">IOW=In Other Words</span>
<span class="s2">IRL=In Real Life</span>
<span class="s2">KISS=Keep It Simple, Stupid</span>
<span class="s2">LDR=Long Distance Relationship</span>
<span class="s2">LMAO=Laugh My A.. Off</span>
<span class="s2">LOL=Laughing Out Loud</span>
<span class="s2">LTNS=Long Time No See</span>
<span class="s2">L8R=Later</span>
<span class="s2">MTE=My Thoughts Exactly</span>
<span class="s2">M8=Mate</span>
<span class="s2">NRN=No Reply Necessary</span>
<span class="s2">OIC=Oh I See</span>
<span class="s2">PITA=Pain In The A..</span>
<span class="s2">PRT=Party</span>
<span class="s2">PRW=Parents Are Watching</span>
<span class="s2">QPSA?=Que Pasa?</span>
<span class="s2">ROFL=Rolling On The Floor Laughing</span>
<span class="s2">ROFLOL=Rolling On The Floor Laughing Out Loud</span>
<span class="s2">ROTFLMAO=Rolling On The Floor Laughing My A.. Off</span>
<span class="s2">SK8=Skate</span>
<span class="s2">STATS=Your sex and age</span>
<span class="s2">ASL=Age, Sex, Location</span>
<span class="s2">THX=Thank You</span>
<span class="s2">TTFN=Ta-Ta For Now!</span>
<span class="s2">TTYL=Talk To You Later</span>
<span class="s2">U=You</span>
<span class="s2">U2=You Too</span>
<span class="s2">U4E=Yours For Ever</span>
<span class="s2">WB=Welcome Back</span>
<span class="s2">WTF=What The F...</span>
<span class="s2">WTG=Way To Go!</span>
<span class="s2">WUF=Where Are You From?</span>
<span class="s2">W8=Wait...</span>
<span class="s2">7K=Sick:-D Laugher</span>
<span class="s2">OMG=Oh my god&quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">chat_words_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">chat_words_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">cw_conversion</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">new_text</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">in</span> <span class="n">chat_words_set</span><span class="p">:</span>
            <span class="n">new_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chat_words_dict</span><span class="p">[</span><span class="n">word</span><span class="o">.</span><span class="n">upper</span><span class="p">()])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">new_text</span><span class="p">)</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">chat_words</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">line</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="n">cw</span><span class="p">,</span> <span class="n">cw_expanded</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        
        <span class="n">chat_words_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cw</span><span class="p">)</span>
        <span class="n">chat_words_dict</span><span class="p">[</span><span class="n">cw</span><span class="p">]</span> <span class="o">=</span> <span class="n">cw_expanded</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;omg that&#39;s awesome.&quot;</span>
<span class="n">cw_conversion</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#34;Oh my god that&#39;s awesome.&#34;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Expanding-Contractions">Expanding Contractions<a class="anchor-link" href="#Expanding-Contractions"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Contractions are words or combinations of words created by dropping a few letters and replacing those letters by an apostrophe.</p>
<p>Example:</p>
<ul>
<li>don't: do not</li>
<li>we'll: we will</li>
</ul>
<p>Our nlp model don't understand these contractions i.e. they don't understand that "don't" and "do not" are the same thing. If our problem statement requires them then we can expand them or else leave it as it is.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">expand_contractions</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">expanded_text</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
        <span class="n">expanded_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">contractions</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">expanded_text</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;I&#39;ll be there within 15 minutes.&quot;</span><span class="p">,</span> <span class="s2">&quot;It&#39;s awesome to meet your new friends.&quot;</span><span class="p">]</span>
<span class="n">expand_contractions</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;I will be there within 15 minutes.&#39;,
 &#39;it is awesome to meet your new friends.&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Stemming">Stemming<a class="anchor-link" href="#Stemming"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In stemming we reduce the word to it's base or root form by removing the suffix characters from the word. It is one of the technique to normalize text.</p>
<p>Stemming for root word "like" include:</p>
<ul>
<li>"likes"</li>
<li>"liked"</li>
<li>"likely"</li>
<li>"liking"</li>
</ul>
<p>Stemmed word doesn't always match the words in our dictionary such as:</p>
<ul>
<li>console -&gt; consol</li>
<li>company -&gt; compani</li>
<li>welcome -&gt; welcom</li>
</ul>
<p>Due to which stemming is not performed in all nlp tasks.</p>
<p>There are various algorithms used for stemming but the most widely used is PorterStemmer. In this post we have used the PorterStemmer as well.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stemmer</span> <span class="o">=</span> <span class="n">PorterStemmer</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">stem_words</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">stemmer</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;text_stemmed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">text</span><span class="p">:</span> <span class="n">stem_words</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
<span class="n">df</span><span class="p">[[</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="s1">&#39;text_stemmed&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>text_stemmed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>username changed</td>
      <td>usernam chang</td>
    </tr>
    <tr>
      <th>1</th>
      <td>unnieeee</td>
      <td>unnieee</td>
    </tr>
    <tr>
      <th>2</th>
      <td>thanks hope youve got good book keep company</td>
      <td>thank hope youv got good book keep compani</td>
    </tr>
    <tr>
      <th>3</th>
      <td>situated</td>
      <td>situat</td>
    </tr>
    <tr>
      <th>4</th>
      <td>youre welcome im glad liked</td>
      <td>your welcom im glad like</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>PorterStemmer can be used only for english. If we are working with other than english then we can use SnowballStemmer.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SnowballStemmer</span><span class="o">.</span><span class="n">languages</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;arabic&#39;,
 &#39;danish&#39;,
 &#39;dutch&#39;,
 &#39;english&#39;,
 &#39;finnish&#39;,
 &#39;french&#39;,
 &#39;german&#39;,
 &#39;hungarian&#39;,
 &#39;italian&#39;,
 &#39;norwegian&#39;,
 &#39;porter&#39;,
 &#39;portuguese&#39;,
 &#39;romanian&#39;,
 &#39;russian&#39;,
 &#39;spanish&#39;,
 &#39;swedish&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Lemmatization">Lemmatization<a class="anchor-link" href="#Lemmatization"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Lemmatization tried to perform the similar task as that of stemming i.e. trying to reduce the inflection words to it's base form. But lemmatization does it by using a different approach.</p>
<p>Lemmatizations takes into consideration of the morphological analysis of the word. It tries to reduce to words to it's dictionary form which is known as lemma.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lemmatizer</span> <span class="o">=</span> <span class="n">WordNetLemmatizer</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">text_lemmatize</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;text_lemmatized&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">text</span><span class="p">:</span> <span class="n">text_lemmatize</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
<span class="n">df</span><span class="p">[[</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="s1">&#39;text_stemmed&#39;</span><span class="p">,</span> <span class="s1">&#39;text_lemmatized&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>text_stemmed</th>
      <th>text_lemmatized</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>username changed</td>
      <td>usernam chang</td>
      <td>username changed</td>
    </tr>
    <tr>
      <th>1</th>
      <td>unnieeee</td>
      <td>unnieee</td>
      <td>unnieeee</td>
    </tr>
    <tr>
      <th>2</th>
      <td>thanks hope youve got good book keep company</td>
      <td>thank hope youv got good book keep compani</td>
      <td>thanks hope youve got good book keep company</td>
    </tr>
    <tr>
      <th>3</th>
      <td>situated</td>
      <td>situat</td>
      <td>situated</td>
    </tr>
    <tr>
      <th>4</th>
      <td>youre welcome im glad liked</td>
      <td>your welcom im glad like</td>
      <td>youre welcome im glad liked</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Difference between Stemming and Lemmatization:</p>
<table>
<thead><tr>
<th>Stemming</th>
<th>Lemmatization</th>
</tr>
</thead>
<tbody>
<tr>
<td>Fast compared to lemmatization</td>
<td>Slow compared to stemming</td>
</tr>
<tr>
<td>Reduces the word to it's base form by removing the suffix</td>
<td>Uses lexical knowledge to get the base form of the word</td>
</tr>
<tr>
<td>Does not always provide meaning or dictionary form of the original word</td>
<td>Resulting words are always meaningful and dictionary words</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Spelling-Correction">Spelling Correction<a class="anchor-link" href="#Spelling-Correction"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We as human always make mistake. Normally incorrect spelling in text are know as typos.</p>
<p>Since the NLP model doesn't know the difference between a correct and an incorrect word. For the model "thanks" and "thnks" are two different words. Therefore, spelling correction is an important step to bring the incorrect words in the correct format.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">spell</span> <span class="o">=</span> <span class="n">SpellChecker</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">correct_spelling</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">correct_text</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">misspelled_words</span> <span class="o">=</span> <span class="n">spell</span><span class="o">.</span><span class="n">unknown</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">misspelled_words</span><span class="p">:</span>
            <span class="n">correct_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">spell</span><span class="o">.</span><span class="n">correction</span><span class="p">(</span><span class="n">word</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">correct_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">correct_text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Hi, hwo are you doin? I&#39;m good thnks for asking&quot;</span>
<span class="n">correct_spelling</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#34;Hi, how are you doing I&#39;m good thanks for asking&#34;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;hw are you doin? I&#39;m god thnks&quot;</span>
<span class="n">correct_spelling</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#34;he are you doing I&#39;m god thanks&#34;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Convert-accented-characters-to-ASCII-characters">Convert accented characters to ASCII characters<a class="anchor-link" href="#Convert-accented-characters-to-ASCII-characters"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Accent marks (also referred to as diacritics or diacriticals) usually appear above a character when we press the character for a long time. These need to be remove cause the model cannot distinguish between "dèèp" and "deep". It will consider them as two different words.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">accented_to_ascii</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">unidecode</span><span class="o">.</span><span class="n">unidecode</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;This is an example text with accented characters like dèèp lèarning ánd cömputer vísíön etc.&quot;</span>
<span class="n">accented_to_ascii</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;This is an example text with accented characters like deep learning and computer vision etc.&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Conclusion">Conclusion<a class="anchor-link" href="#Conclusion"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In this article, most of the text pre-processing techniques are explanied. I'll update this post as I learn more techniques to pre-process text.</p>
<p>Share if you liked it, comment if you loved it. Hope to see you guys in the next one. Peace!</p>

</div>
</div>
</div>
</div>
 

